{{/* layouts/partials/blocks/collage.html */}}

<section id="{{ .id }}" class="collage">
  <div class="container">
    {{ with .content.title }}
      <h2>{{ . }}</h2>
    {{ end }}

    <div class="row">
      {{ $folder := index .content.filters.folders 0 }}
      {{ $page := site.GetPage (printf "media/%s" $folder) }}

      {{ if $page }}
        {{ range $page.Resources.Match "*" }}
          {{ $img := .Resize "600x" }}
          <div class="col-md-4 col-sm-6 mb-4">
            <img src="{{ $img.RelPermalink }}" class="img-fluid rounded shadow-sm" alt="{{ .Name }}">
          </div>
        {{ end }}
      {{ else }}
        <p>No images found in folder <code>{{ $folder }}</code>.</p>
      {{ end }}
    </div>
  </div>
</section>